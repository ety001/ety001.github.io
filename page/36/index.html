<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon.ico">
  <link rel="mask-icon" href="/img/favicon.ico" color="#222">
  <link rel="manifest" href="/site.webmanifest">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha256-wiz7ZSCn/btzhjKDQBms9Hx4sSeUYsDrTLg7roPstac=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"blog.akawa.ink","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.19.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="ETY001的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="Akawa">
<meta property="og:url" content="https://blog.akawa.ink/page/36/index.html">
<meta property="og:site_name" content="Akawa">
<meta property="og:description" content="ETY001的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="ETY001">
<meta property="article:tag" content="ETY001, akawa, php, vuejs, javascript, docker, steemit, bitshares">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://blog.akawa.ink/page/36/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/36/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Akawa - ETY001的博客</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-60YZJHHP9K"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-60YZJHHP9K","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>







<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7536831447654223" crossorigin="anonymous"></script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="Akawa" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Akawa</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">ETY001的博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-首页"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-生活"><a href="/life" rel="section"><i class="fa fa-bicycle fa-fw"></i>生活</a></li><li class="menu-item menu-item-关于"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-dm实验室"><a href="/lab/" rel="section"><i class="fa fa-gear fa-fw"></i>DM实验室</a></li><li class="menu-item menu-item-捐助"><a href="/donate/" rel="section"><i class="fa fa-star fa-fw"></i>捐助</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-标签云"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签云</a></li><li class="menu-item menu-item-归档"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-友链"><a href="/friendsblog/" rel="section"><i class="fa fa-link fa-fw"></i>友链</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="ETY001"
      src="/img/logo.jpg">
  <p class="site-author-name" itemprop="name">ETY001</p>
  <div class="site-description" itemprop="description">ETY001的博客</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">482</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">68</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/ety001" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ety001" rel="noopener me" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:work@akawa.ink" title="E-Mail → mailto:work@akawa.ink" rel="noopener me" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/ety001" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;ety001" rel="noopener me" target="_blank"><i class="weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/ety001" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;ety001" rel="noopener me" target="_blank"><i class="twitter fa-fw"></i>Twitter</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.akawa.ink/2012/03/14/unixbench.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/img/logo.jpg">
      <meta itemprop="name" content="ETY001">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Akawa">
      <meta itemprop="description" content="ETY001的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Akawa">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2012/03/14/unixbench.html" class="post-title-link" itemprop="url">UnixBench：测试Linux VPS性能</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2012-03-15 06:55:07" itemprop="dateCreated datePublished" datetime="2012-03-15T06:55:07+08:00">2012-03-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-04-10 03:23:15" itemprop="dateModified" datetime="2024-04-10T03:23:15+08:00">2024-04-10</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>转自：<a target="_blank" rel="noopener" href="http://www.vpser.net/opt/unixbench.html">http://www.vpser.net/opt/unixbench.html</a></p>
<p>UnixBench是一款不错的Linux下的VPS性能测试软件，现在说一下具体用法。</p>
<p>UnixBench 4.10 下载地址：<a target="_blank" rel="noopener" href="http://soft.vpser.net/test/unixbench/unixbench-4.1.0-wht.tar.gz">http://soft.vpser.net/test/unixbench/unixbench-4.1.0-wht.tar.gz</a></p>
<p>[root@noc ~]# wget <a target="_blank" rel="noopener" href="http://soft.vpser.net/test/unixbench/unixbench-4.1.0-wht.tar.gz">http://soft.vpser.net/test/unixbench/unixbench-4.1.0-wht.tar.gz</a></p>
<p>[root@noc ~]# tar xzf unixbench-4.1.0-wht.tar.gz<br>[root@noc ~]# ls<br>unixbench-4.1.0-wht-2  unixbench-4.1.0-wht.tar.gz</p>
<p>[root@noc ~]# cd unixbench-4.1.0-wht-2&#x2F;<br>[root@noc unixbench-4.1.0-wht-2]# make<br>如果遇到 Error: Please install &#x2F;usr&#x2F;bin&#x2F;time. 错误提示<br>centos&#x2F;fedora 下运行 yum install time<br>ubuntu&#x2F;debian 下运行 apt-get install time</p>
<p>[root@noc unixbench-4.1.0-wht-2]# .&#x2F;Run</p>
<p>———————–以上为转载内容———————–</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">-----------------------下面是我现在博客用vps性能测试-----------------------</span><br><span class="line"></span><br><span class="line">==============================================================</span><br><span class="line">BYTE UNIX Benchmarks (Version 4.1-wht.2)</span><br><span class="line">System -- Linux MyVPS1128 2.6.18-274.17.1.el5xen #1 SMP Tue Jan 10 18:45:09 EST 2012 i686 i686 i386 GNU/Linux</span><br><span class="line">                      16061852   3311812  11922776  22% /</span><br><span class="line"></span><br><span class="line">Start Benchmark Run: Thu Mar 15 14:46:20 CST 2012</span><br><span class="line"> 14:46:20 up 25 days, 16:12,  2 users,  load average: 0.00, 0.00, 0.00</span><br><span class="line"></span><br><span class="line">End Benchmark Run: Thu Mar 15 14:57:03 CST 2012</span><br><span class="line"> 14:57:03 up 25 days, 16:22,  1 user,  load average: 15.58, 6.74, 2.98</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                     INDEX VALUES            </span><br><span class="line">TEST                                        BASELINE     RESULT      INDEX</span><br><span class="line"></span><br><span class="line">Dhrystone 2 using register variables        376783.7 10077205.9      267.5</span><br><span class="line">Double-Precision Whetstone                      83.1     1262.3      151.9</span><br><span class="line">Execl Throughput                               188.3     2721.0      144.5</span><br><span class="line">File Copy 1024 bufsize 2000 maxblocks         2672.0    87593.0      327.8</span><br><span class="line">File Copy 256 bufsize 500 maxblocks           1077.0    27004.0      250.7</span><br><span class="line">File Read 4096 bufsize 8000 maxblocks        15382.0   641324.0      416.9</span><br><span class="line">Pipe-based Context Switching                 15448.6   138134.4       89.4</span><br><span class="line">Pipe Throughput                             111814.6   851785.8       76.2</span><br><span class="line">Process Creation                               569.3     3992.0       70.1</span><br><span class="line">Shell Scripts (8 concurrent)                    44.8      553.8      123.6</span><br><span class="line">System Call Overhead                        114433.5   558929.2       48.8</span><br><span class="line">                                                                 =========</span><br><span class="line">     FINAL SCORE                                                     144.7</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.akawa.ink/2012/03/09/use-c-to-solve-the-problem-that-using-mv-to-replace-rm.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/img/logo.jpg">
      <meta itemprop="name" content="ETY001">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Akawa">
      <meta itemprop="description" content="ETY001的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Akawa">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2012/03/09/use-c-to-solve-the-problem-that-using-mv-to-replace-rm.html" class="post-title-link" itemprop="url">用C语言解决mv替换rm</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2012-03-09 14:09:39" itemprop="dateCreated datePublished" datetime="2012-03-09T14:09:39+08:00">2012-03-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-04-10 03:23:15" itemprop="dateModified" datetime="2024-04-10T03:23:15+08:00">2024-04-10</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>昨天用shell脚本实现了（<a href="/2012/03/08/use-mv-replace-rm-without-params.html">akawa.ink&#x2F;2012&#x2F;03&#x2F;08&#x2F;use-mv-replace-rm-without-params.html</a>），把rm替换为mv，今天我又尝试了下写个简单的C程序来实现，也顺便练习下vim写代码，gcc编译。直接贴代码，不废话~</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line">#define LANG 1000</span><br><span class="line">char *file_path = &quot;/home/ety001/.trash/&quot;;</span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">    int i;</span><br><span class="line">    char str[LANG] = &quot;mv &quot;;</span><br><span class="line">    for(i=1;i&lt;argc;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        if(argv[i][0]!=&#x27;-&#x27;)</span><br><span class="line">        &#123;</span><br><span class="line">            strcat(str,argv[i]);</span><br><span class="line">            strcat(str,&quot; &quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    strcat(str,file_path);</span><br><span class="line">    system(str);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>另外需要注意的是strcat这个函数，之前，第八行一直写的是char* str &#x3D; “mv “; 然后运行总是报错（段错误），原因就是因为这句如果写成这样，就已经把str指向的空间长度指定的了，这样strcat函数再向这个字符串后面加字符串的时候肯定就会溢出了。详细的说明看这里：<a target="_blank" rel="noopener" href="http://topic.csdn.net/t/20030525/20/1832507.html">http://topic.csdn.net/t/20030525/20/1832507.html</a>，所以说写这种跟指针打交道的代码还是要小心呀。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.akawa.ink/2012/03/08/use-mv-replace-rm-without-params.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/img/logo.jpg">
      <meta itemprop="name" content="ETY001">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Akawa">
      <meta itemprop="description" content="ETY001的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Akawa">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2012/03/08/use-mv-replace-rm-without-params.html" class="post-title-link" itemprop="url">用mv代替rm并且不带参数</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2012-03-08 11:45:51" itemprop="dateCreated datePublished" datetime="2012-03-08T11:45:51+08:00">2012-03-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-04-10 03:23:15" itemprop="dateModified" datetime="2024-04-10T03:23:15+08:00">2024-04-10</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>由于单位的服务器是多人使用的，每次都会有人误删除文件，所以说就想到写个shell脚本用mv命令替换rm，但是随之问题就是，写出来的rm命名的shell脚本在使用的时候，大家还是按照原来的习惯，在删除文件夹的时候，使用rm -rf 这样的形式，而mv是没有-rf参数的，所以就会导致报错，为了解决这个问题，又完善了下shell脚本代码。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#! /bin/bash</span><br><span class="line">dst = &quot;/home/ety001/test_trash/&quot;</span><br><span class="line">for src_file in $@;</span><br><span class="line">do</span><br><span class="line">    if echo $src_file | grep -v &#x27;^-&#x27;</span><br><span class="line">    then</span><br><span class="line">        mv $src_file $dst</span><br><span class="line">    fi</span><br><span class="line">done</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.akawa.ink/2012/03/07/the-manual-of-rename-in-linux.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/img/logo.jpg">
      <meta itemprop="name" content="ETY001">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Akawa">
      <meta itemprop="description" content="ETY001的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Akawa">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2012/03/07/the-manual-of-rename-in-linux.html" class="post-title-link" itemprop="url">Linux中rename命令的用法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2012-03-08 07:38:30" itemprop="dateCreated datePublished" datetime="2012-03-08T07:38:30+08:00">2012-03-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-04-10 03:23:15" itemprop="dateModified" datetime="2024-04-10T03:23:15+08:00">2024-04-10</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>转自：<a target="_blank" rel="noopener" href="http://hi.baidu.com/afantihome/blog/item/2a8abe1b319112fdaf513391.html">http://hi.baidu.com/afantihome/blog/item/2a8abe1b319112fdaf513391.html</a></p>
<p>刚学习linux的时候，对文件重命名首先想到的就是rename命令，但是按照在windows下对文件重命名的方式试了N多次都没有反应，在网上一搜索，发现很多人都对rename命令知之甚少，甚至有一部分人说linux下没有rename命令，建议大家用mv命令。鉴于此，于是man rename一下，好好的研究了一下它的用法 ，在此对rename命令和mv命令在重命名文件方面做一个比较，有不足之处，希望各位博友指正！</p>
<p>首先来说一下mv命令，在man mv中我们可以看到对于mv命令的介绍是这样的：</p>
<p>mv -move(rename) files</p>
<p>可以看到mv命令确实有重命名的功能，但是实际应用中，它只能对单个文件重命名，命令如下：</p>
<p>mv [path&#x2F;]oldfilename [path&#x2F;]newfilename</p>
<p>“mv命令只能对单个文件重命名”，这实就是mv命令和rename命令的在重命名方面的根本区别。</p>
<p>再来说rename命令，在man rename的说明如下：</p>
<p>NAME</p>
<p>rename -Rename files</p>
<p>SYNOPSIS</p>
<p>rename from to file….</p>
<p>DESCRIPTION</p>
<p>rename will rename the specified files by replacing the first occurrence of from in their name by to.</p>
<p>For example, given the files foo1, …, foo9, foo10, …, foo278, the commands</p>
<p>rename foo foo0 foo?</p>
<p>rename foo foo0 foo??</p>
<p>will turn them into foo001, …, foo009, foo010, …, foo278.</p>
<p>And</p>
<p>rename .htm .html *.htm</p>
<p>will fix the extension of your html files.</p>
<p>可以看出rename命令是专用于文件重命名的，而且根据其后的例子可以看出，rename除了给单个文件重命名，还可以批量文件重命名。同时，值得注意一点的是，rename命令是带3个参数而不是很多人认为的2个参数。</p>
<p>上面的例子中给出了两种文件批量重命名的用法，而实际上，rename结合通配符使用，它的功能比上面的例子所显示的更强大。基本的通配符有以下几个：</p>
<p>? 可替代单个字符</p>
<ul>
<li>可替代多个字符</li>
</ul>
<p>[charset] 可替代charset集中的任意单个字符</p>
<p>下面以例子加以说明：</p>
<p>如文件夹中有这些文件foo1, …, foo9, foo10, …, foo278，如果使用</p>
<p>rename foo foo0 foo?</p>
<p>则它只会把foo1到foo9的文件重命名为foo01到foo09，因为?通配符只能替代单个字符，所以被重命名的文件只是有4个字符长度名称的文件，文件名中的foo被替换为foo0。</p>
<p>再继续使用</p>
<p>rename foo foo0 foo??</p>
<p>则文件夹中的foo01到foo99的所有文件都被重命名为foo001到foo099，而foo100及其以后的文件名都不变，因为通配符?的使用，所以只重命名5个字符长度名称的文件，文件名中的foo被替换为foo0。</p>
<p>如果再继续使用</p>
<p>rename foo foo0 foo*</p>
<p>则foo001到foo278的所有文件都被重命名为foo0001到foo0278，因为通配符*可替代多个字符，所以，所有以foo开头的文件都被重命名了，文件名中的foo被替换为foo0。</p>
<p>我们再来看通配符[charset]的用法，还是继续在上面所说的文件夹中，执行如下命令</p>
<p>rename foo0 foo foo0[2]*</p>
<p>则从foo0200到foo0278的所有文件都被重命名为foo200到foo278，文件名中的foo0被替换为foo。</p>
<p>在使用中，三种通配符可以一起结合使用，关于具体的其它用法就只有自己不断的摸索了。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.akawa.ink/2012/02/26/lightweight-efficient-linux-based-on-archlinux.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/img/logo.jpg">
      <meta itemprop="name" content="ETY001">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Akawa">
      <meta itemprop="description" content="ETY001的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Akawa">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2012/02/26/lightweight-efficient-linux-based-on-archlinux.html" class="post-title-link" itemprop="url">打造轻量高效Linux系统</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2012-02-27 06:57:50" itemprop="dateCreated datePublished" datetime="2012-02-27T06:57:50+08:00">2012-02-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-04-10 03:23:15" itemprop="dateModified" datetime="2024-04-10T03:23:15+08:00">2024-04-10</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>转自：<a target="_blank" rel="noopener" href="http://davidx.me/2009/09/14/lightweight-efficient-linux-based-on-archlinux/#more-266">http://davidx.me/2009/09/14/lightweight-efficient-linux-based-on-archlinux/</a></p>
<p>以前一直使用Gnome作为桌面系统, 后来慢慢的视觉疲劳了, 于是决定换掉它, 既然换, 就干脆换一个轻量级的桌面系统, 于是下面的组合出现了!</p>
<p>先说我使用的各个组件<br>1.窗口管理 — openbox, 轻量又好用, 简约而不简单<br>2.登录管理器 — slim, DM中比较轻量的一款了<br>3.文件管理器 — pcmanfm, nautilus的替代品<br>4.panel — tint2, 以前一直用fbpanel, 今天才发现一个比它更好看和好用的<br>5.背景更换 — feh, 由于没有rox这样的桌面管理软件, 所以还是需要自己设定下背景的(朋友说可以用pcmanfm来管理桌面的, 不过我还没有尝试)<br>6.系统监视 — conky, 没的说, 定制性最强的系统监视软件了<br>7.终端 — sakura, 以前一直用gnome-terminal, 后来有尝试xterm, 但是不支持鼠标右键, 而且配置比较复杂, 这里找到一个替代品, 可以完全替代gnome-terminal了</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.akawa.ink/2012/02/26/when-run-nginx-error-libpcre-so-1.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/img/logo.jpg">
      <meta itemprop="name" content="ETY001">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Akawa">
      <meta itemprop="description" content="ETY001的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Akawa">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2012/02/26/when-run-nginx-error-libpcre-so-1.html" class="post-title-link" itemprop="url">Nginx启动出错</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2012-02-27 06:51:11" itemprop="dateCreated datePublished" datetime="2012-02-27T06:51:11+08:00">2012-02-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-04-10 03:23:15" itemprop="dateModified" datetime="2024-04-10T03:23:15+08:00">2024-04-10</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>转自：<a target="_blank" rel="noopener" href="http://www.forzw.com/archives/652">http://www.forzw.com/archives/652</a></p>
<p>启动nginx时出错。。。</p>
<p>&#x2F;usr&#x2F;local&#x2F;webserver&#x2F;nginx&#x2F;sbin&#x2F;nginx<br>&#x2F;usr&#x2F;local&#x2F;webserver&#x2F;nginx&#x2F;sbin&#x2F;nginx: error while loading shared libraries: libpcre.so.1: cannot open shared object file: No such file or directory</p>
<p>从错误看出是缺少lib文件导致，进一步查看下</p>
<p>[root@vps1 pcre-8.30]# ldd $(which &#x2F;usr&#x2F;local&#x2F;webserver&#x2F;nginx&#x2F;sbin&#x2F;nginx)</p>
<p>linux-vdso.so.1 &#x3D;&gt; (0x00007fff5dd56000)<br>libpthread.so.0 &#x3D;&gt; &#x2F;lib64&#x2F;libpthread.so.0 (0x00007fa8c1857000)<br>libcrypt.so.1 &#x3D;&gt; &#x2F;lib64&#x2F;libcrypt.so.1 (0x00007fa8c161f000)<br>libpcre.so.1 &#x3D;&gt; not found<br>libssl.so.6 &#x3D;&gt; &#x2F;lib64&#x2F;libssl.so.6 (0x00007fa8c13d3000)<br>libcrypto.so.6 &#x3D;&gt; &#x2F;lib64&#x2F;libcrypto.so.6 (0x00007fa8c1082000)<br>libdl.so.2 &#x3D;&gt; &#x2F;lib64&#x2F;libdl.so.2 (0x00007fa8c0e7e000)<br>libz.so.1 &#x3D;&gt; &#x2F;lib64&#x2F;libz.so.1 (0x00007fa8c0c6a000)<br>libc.so.6 &#x3D;&gt; &#x2F;lib64&#x2F;libc.so.6 (0x00007fa8c0912000)<br>&#x2F;lib64&#x2F;ld-linux-x86-64.so.2 (0x00007fa8c1a72000)<br>libgssapi_krb5.so.2 &#x3D;&gt; &#x2F;usr&#x2F;lib64&#x2F;libgssapi_krb5.so.2 (0x00007fa8c06e4000)<br>libkrb5.so.3 &#x3D;&gt; &#x2F;usr&#x2F;lib64&#x2F;libkrb5.so.3 (0x00007fa8c044f000)<br>libcom_err.so.2 &#x3D;&gt; &#x2F;lib64&#x2F;libcom_err.so.2 (0x00007fa8c024d000)<br>libk5crypto.so.3 &#x3D;&gt; &#x2F;usr&#x2F;lib64&#x2F;libk5crypto.so.3 (0x00007fa8c0028000)<br>libkrb5support.so.0 &#x3D;&gt; &#x2F;usr&#x2F;lib64&#x2F;libkrb5support.so.0 (0x00007fa8bfe20000)<br>libkeyutils.so.1 &#x3D;&gt; &#x2F;lib64&#x2F;libkeyutils.so.1 (0x00007fa8bfc1e000)<br>libresolv.so.2 &#x3D;&gt; &#x2F;lib64&#x2F;libresolv.so.2 (0x00007fa8bfa09000)<br>libselinux.so.1 &#x3D;&gt; &#x2F;lib64&#x2F;libselinux.so.1 (0x00007fa8bf7f1000)<br>libsepol.so.1 &#x3D;&gt; &#x2F;lib64&#x2F;libsepol.so.1 (0x00007fa8bf5ab000)</p>
<p>可以看出 libpcre.so.1 &#x3D;&gt; not found 并没有找到，进入&#x2F;lib64目录中手动链接下</p>
<p>[root@vps1 lib64]# ln -s libpcre.so.0.0.1 libpcre.so.1</p>
<p>之后启动正常。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.akawa.ink/2012/02/21/how-to-do-when-forget-renren-login-name.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/img/logo.jpg">
      <meta itemprop="name" content="ETY001">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Akawa">
      <meta itemprop="description" content="ETY001的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Akawa">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2012/02/21/how-to-do-when-forget-renren-login-name.html" class="post-title-link" itemprop="url">校内人人网忘记了注册账号怎么办？</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2012-02-22 05:08:15" itemprop="dateCreated datePublished" datetime="2012-02-22T05:08:15+08:00">2012-02-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-04-10 03:23:15" itemprop="dateModified" datetime="2024-04-10T03:23:15+08:00">2024-04-10</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>由于各种原因，有些朋友注册了校内人人网后却忘记了注册账号，现在给大家个简单的方法：</p>
<p>第一步：用其他账号登陆校内人人网（自己再申请一个，或者用别人的）搜索自己的注册用户名，进入已经忘记了账号的主页，例如<a target="_blank" rel="noopener" href="http://www.renren.com/profile.doid=1234567890&pma;=p_profile_m_pub_sharefriends_a_profile">http://www.renren.com/profile.doid=1234567890&pma;=p_profile_m_pub_sharefriends_a_profile</a></p>
<p>第二步：复制地址栏中等于号后面的那串数字（例如：1234567890）</p>
<p>第三部：打开人人网桌面（没有安装的可以下载安装一个）然后再用户名里面粘贴刚才复制的那串数字，然后输入自己注册时的密码，就可以登陆了，登陆成功后就可以通过人人桌面进入自己的主页</p>
<p>第四步：打开主页后就可以更改注册账户的邮箱了，这样下一次就可以直接登陆了。</p>
<p>注：如果只是密码忘了，可以申诉。但如果注册账户和密码都忘了，那就无力回天了。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.akawa.ink/2012/02/20/nginx-502-bad-gateway-error.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/img/logo.jpg">
      <meta itemprop="name" content="ETY001">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Akawa">
      <meta itemprop="description" content="ETY001的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Akawa">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2012/02/20/nginx-502-bad-gateway-error.html" class="post-title-link" itemprop="url">Nginx 502 Bad Gateway错误触发条件与解决方法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2012-02-20 14:46:32" itemprop="dateCreated datePublished" datetime="2012-02-20T14:46:32+08:00">2012-02-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-04-10 03:23:15" itemprop="dateModified" datetime="2024-04-10T03:23:15+08:00">2024-04-10</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>一些运行在Nginx上的网站有时候会出现“502 Bad Gateway”错误，有些时候甚至频繁的出现。以下是从Google搜集整理的一些Nginx 502错误的排查方法，供参考：</p>
<p>Nginx 502错误的原因比较多，是因为在代理模式下后端服务器出现问题引起的。这些错误一般都不是nginx本身的问题，一定要从后端找原因！但nginx把这些出错都揽在自己身上了，着实让nginx的推广者备受置疑，毕竟从字眼上理解，bad gateway？不就是bad nginx吗？让不了解的人看到，会直接把责任推在nginx身上，希望nginx下一个版本会把出错提示写稍微友好一些，至少不会是现在简单的一句 502 Bad Gateway，另外还不忘附上自己的大名。</p>
<p>Nginx 502的触发条件</p>
<p>502错误最通常的出现情况就是后端主机当机。在upstream配置里有这么一项配置：proxy_next_upstream，这个配置指定了 nginx在从一个后端主机取数据遇到何种错误时会转到下一个后端主机，里头写上的就是会出现502的所有情况拉，默认是error timeout。error就是当机、断线之类的，timeout就是读取堵塞超时，比较容易理解。我一般是全写上的：</p>
<p>proxy_next_upstream error timeout invalid_header http_500 http_503;<br>不过现在可能我要去掉http_500这一项了，http_500指定后端返回500错误时会转一个主机，后端的jsp出错的话，本来会打印一堆 stacktrace的错误信息，现在被502取代了。但公司的程序员可不这么认为，他们认定是nginx出现了错误，我实在没空跟他们解释502的原理 了……</p>
<p>503错误就可以保留，因为后端通常是apache resin，如果apache死机就是error，但resin死机，仅仅是503，所以还是有必要保留的。</p>
<p>解决办法</p>
<p>遇到502问题，可以优先考虑按照以下两个步骤去解决。</p>
<p>1、查看当前的PHP FastCGI进程数是否够用：</p>
<p>netstat -anpo | grep “php-cgi” | wc -l<br>如果实际使用的“FastCGI进程数”接近预设的“FastCGI进程数”，那么，说明“FastCGI进程数”不够用，需要增大。</p>
<p>2、部分PHP程序的执行时间超过了Nginx的等待时间，可以适当增加nginx.conf配置文件中FastCGI的timeout时间，例如：</p>
<p>……<br>http<br>{<br>……<br>fastcgi_connect_timeout 300;<br>fastcgi_send_timeout 300;<br>fastcgi_read_timeout 300;<br>……<br>}<br>……<br>php.ini中memory_limit设低了会出错，修改了php.ini的memory_limit为64M，重启nginx，发现好了，原来是PHP的内存不足了。</p>
<p>如果这样修改了还解决不了问题，可以参考下面这些方案：</p>
<p>一、max-children和max-requests</p>
<p>一台服务器上运行着nginx php(fpm) xcache，访问量日均 300W pv左右</p>
<p>最近经常会出现这样的情况： php页面打开很慢，cpu使用率突然降至很低，系统负载突然升至很高，查看网卡的流量，也会发现突然降到了很低。这种情况只持续数秒钟就恢复了</p>
<p>检查php-fpm的日志文件发现了一些线索</p>
<p>Sep 30 08:32:23.289973 [NOTICE] fpm_unix_init_main(), line 271: getrlimit(nofile): max:51200, cur:51200<br>Sep 30 08:32:23.290212 [NOTICE] fpm_sockets_init_main(), line 371: using inherited socket fd&#x3D;10, “127.0.0.1:9000″<br>Sep 30 08:32:23.290342 [NOTICE] fpm_event_init_main(), line 109: libevent: using epoll<br>Sep 30 08:32:23.296426 [NOTICE] fpm_init(), line 47: fpm is running, pid 30587<br>在这几句的前面，是1000多行的关闭children和开启children的日志</p>
<p>原来，php-fpm有一个参数 max_requests，该参数指明了，每个children最多处理多少个请求后便会被关闭，默认的设置是500。因为php是把请求轮询给每个 children，在大流量下，每个childre到达max_requests所用的时间都差不多，这样就造成所有的children基本上在同一时间 被关闭。</p>
<p>在这期间，nginx无法将php文件转交给php-fpm处理，所以cpu会降至很低(不用处理php，更不用执行sql)，而负载会升至很高(关闭和开启children、nginx等待php-fpm)，网卡流量也降至很低(nginx无法生成数据传输给客户端)</p>
<p>解决问题很简单，增加children的数量，并且将 max_requests 设置未 0 或者一个比较大的值：</p>
<p>打开 &#x2F;usr&#x2F;local&#x2F;php&#x2F;etc&#x2F;php-fpm.conf</p>
<p>调大以下两个参数(根据服务器实际情况，过大也不行）</p>
<p>5120<br>600<br>然后重启php-fpm。</p>
<p>二、增加缓冲区容量大小</p>
<p>将nginx的error log打开，发现“pstream sent too big header while reading response header from upstream”这样的错误提示。查阅了一下资料，大意是nginx缓冲区有一个bug造成的,我们网站的页面消耗占用缓冲区可能过大。参考老外写的修 改办法增加了缓冲区容量大小设置，502问题彻底解决。后来系统管理员又对参数做了调整只保留了2个设置参数：client head buffer，fastcgi buffer size。</p>
<p>三、request_terminate_timeout</p>
<p>如果主要是在一些post或者数据库操作的时候出现502这种情况，而不是在静态页面操作中常见，那么可以查看一下php-fpm.conf设置中的一项：</p>
<p>request_terminate_timeout</p>
<p>这个值是max_execution_time，就是fast-cgi的执行脚本时间。</p>
<p>0s</p>
<p>0s为关闭，就是无限执行下去。（当时装的时候没仔细看就改了一个数字）</p>
<p>发现，问题解决了，执行很长时间也不会出错了。</p>
<p>优化fastcgi中，还可以改改这个值5s 看看效果。</p>
<p>php-cgi进程数不够用、php执行时间长、或者是php-cgi进程死掉，都会出现502错误。</p>
<p>如果您还有其他的解决方法，欢迎留言！</p>
<p>永久链接 : <a target="_blank" rel="noopener" href="http://www.ha97.com/4004.html">http://www.ha97.com/4004.html</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.akawa.ink/2012/02/14/the-lack-of-a-json-parser-for-j2me.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/img/logo.jpg">
      <meta itemprop="name" content="ETY001">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Akawa">
      <meta itemprop="description" content="ETY001的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Akawa">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2012/02/14/the-lack-of-a-json-parser-for-j2me.html" class="post-title-link" itemprop="url">J2ME下的JSON包</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2012-02-15 05:20:02" itemprop="dateCreated datePublished" datetime="2012-02-15T05:20:02+08:00">2012-02-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-04-10 03:23:15" itemprop="dateModified" datetime="2024-04-10T03:23:15+08:00">2024-04-10</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>今天在开发一个j2me程序的时候，需要用到json数据的解析，从百度上搜了一圈都是各种教你怎么用的，但问题是没有一个说，这个包从哪里获得。。。从一个老外的blog找到一个jar包，还看到一个非jar包的。先说jar包的，转自：<a target="_blank" rel="noopener" href="http://per.liedman.net/2010/06/07/the-lack-of-a-json-parser-for-j2me/">http://per.liedman.net/2010/06/07/the-lack-of-a-json-parser-for-j2me/</a></p>
<p>In a pet project I’m spending my nights working on (hopefully more about that in a later post), I found myself in need of a JSON parser, or deserializer, for J2ME&#x2F;CLDC. A bit to my surprise, I found that such a thing was not easy to find, even with the whole of the internets at my disposal.</p>
<p>To summarize, it appears that there has been a JSON lib for J2ME up on <a target="_blank" rel="noopener" href="http://www.google.se/search?aq=f&ie=UTF-8&q=org.json.me.zip">json.org at some point</a>, but at least I can’t find it any longer. Also, <a target="_blank" rel="noopener" href="https://meapplicationdevelopers.dev.java.net/mobileajax.html">some project on java.net</a> is popular to link to, but come on, no download link? No pre-compiled JAR-file?</p>
<p>Anyway, after <a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/2981296/json-parser-for-j2me">asking over at stackoverflow.com</a> and getting surprisingly few answers, at least I found a link to some code that was easy enough to grab.</p>
<p>As some kind of attempt to give back to the community, I upload the compiled JAR from that source code here. So if you need to serialize, deserialize, marshal or unmarshal JSON from J2ME&#x2F;CLDC, grab this JAR and go ahead:</p>
<ul>
<li>Compiled JAR: <a target="_blank" rel="noopener" href="http://per.liedman.net/wp-content/uploads/2010/06/json-me.jar">json-me.jar</a></li>
<li><del>Source code: <a target="_blank" rel="noopener" href="http://per.liedman.net/wp-content/uploads/2010/06/json-me.tar.gz">json-me.tar.gz</a></del> <strong>Updated 2010-09-25:</strong> the source is now <a target="_blank" rel="noopener" href="http://bitbucket.org/liedman/json-me">available on BitBucket</a></li>
</ul>
<p>The code is most likely a copy of the one that was previously posted on json.org, and is distributed under <a target="_blank" rel="noopener" href="http://www.json.org/license.html">the json.org license</a> according to the copyright notice in the source (most importantly: “The Software shall be used for Good, not Evil.”)</p>
<p>As a very tiny modification, I have added the methods <em>remove</em> and <em>removeAll</em> to the class <em>JSONArray</em>, since I really needed them. I hope you don’t mind too much.</p>
<p>非jar包：<a target="_blank" rel="noopener" href="https://github.com/upictec/org.json.me/">https://github.com/upictec/org.json.me/</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://blog.akawa.ink/2012/02/14/j2me-http-get-post.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/img/logo.jpg">
      <meta itemprop="name" content="ETY001">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Akawa">
      <meta itemprop="description" content="ETY001的博客">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Akawa">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2012/02/14/j2me-http-get-post.html" class="post-title-link" itemprop="url">J2ME HTTP方式与服务器交互信息:GET方式和POST方式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2012-02-14 21:42:15" itemprop="dateCreated datePublished" datetime="2012-02-14T21:42:15+08:00">2012-02-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-04-10 03:23:15" itemprop="dateModified" datetime="2024-04-10T03:23:15+08:00">2024-04-10</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="http://blog.csdn.net/wufenglong/article/details/5508808">http://blog.csdn.net/wufenglong/article/details/5508808</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/35/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/35/">35</a><span class="page-number current">36</span><a class="page-number" href="/page/37/">37</a><span class="space">&hellip;</span><a class="page-number" href="/page/49/">49</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/37/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2009 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">ETY001</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/ety001" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  





</body>
</html>
